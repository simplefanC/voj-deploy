(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40c8c634"],{1801:function(t,i,a){},b2f4:function(t,i,a){"use strict";var s=a("d866"),e=a("baca"),l=a("3134"),n=a("3a39"),o=a("cf3b"),c=a("d04d"),g=1!==[].unshift(0),r=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}();s({target:"Array",proto:!0,arity:1,forced:g||r},{unshift:function(t){var i=e(this),a=l(i),s=arguments.length;if(s){c(a+s);var g=a;while(g--){var r=g+s;g in i?i[r]=i[g]:o(i,r)}for(var d=0;d<s;d++)i[d]=arguments[d]}return n(i,a+s)}})},c7d5:function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t._self._c;return i("div",[i("el-card",[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"panel-title home-title"},[t._v(t._s(t.$t("m.Admin_Tag")))]),i("div",{staticClass:"filter"},[i("span",[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(i){return t.openTagDialog("add",null)}}},[t._v(t._s(t.$t("m.Add_Tag"))+" ")])],1),i("span",[i("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-plus"},on:{click:function(i){return t.openTagClassificationDialog("add",null)}}},[t._v(t._s(t.$t("m.Add_Tag_Classification"))+" ")])],1),i("span",[i("el-select",{staticStyle:{width:"150px","margin-top":"10px"},attrs:{size:"small"},on:{change:t.init},model:{value:t.tagOj,callback:function(i){t.tagOj=i},expression:"tagOj"}},[i("el-option",{attrs:{label:t.$t("m.My_OJ"),value:"LOCAL"}}),t._l(t.REMOTE_OJ,(function(t,a){return i("el-option",{key:a,attrs:{label:t.name,value:t.key}})}))],2)],1)])]),i("h3",{staticStyle:{margin:"-5px"}},[t._v(t._s(t.$t("m.Tag_Tips")))])]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.getTagListLoading,expression:"getTagListLoading"}]},[i("el-row",{attrs:{gutter:20}},t._l(t.tagsAndClassificationList,(function(a,s){return i("el-col",{key:s,attrs:{md:8,xs:24}},[i("el-card",{staticStyle:{"margin-top":"15px"}},[i("el-collapse",{model:{value:t.activeTagClassificationIdList,callback:function(i){t.activeTagClassificationIdList=i},expression:"activeTagClassificationIdList"}},[i("el-collapse-item",{attrs:{name:null==a.classification?-1:a.classification.id}},[i("template",{slot:"title"},[i("span",[t._v(t._s(null!=a.classification?a.classification.name:t.$t("m.Unclassified"))+" ")]),null!=a.classification?i("span",{staticStyle:{"margin-left":"10px"}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"mini"},on:{click:function(i){return i.stopPropagation(),t.openTagClassificationDialog("update",a.classification)}}})],1):t._e(),null!=a.classification?i("span",{staticStyle:{"margin-left":"10px"}},[i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(i){return i.stopPropagation(),t.deleteTagClassification(a.classification)}}})],1):t._e()]),i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(i){return t.openTagDialog("add",null,a.classification)}}},[t._v("+ "+t._s(t.$t("m.Add_Tag")))]),t._l(a.tagList,(function(a,s){return i("el-tag",{key:s,staticClass:"tag",attrs:{closable:"",color:a.color?a.color:"#409eff",effect:"dark","disable-transitions":!1},on:{close:function(i){return t.deleteTag(a)},click:function(i){return t.openTagDialog("update",a)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)],1)],1)],1)})),1)],1),i("el-dialog",{attrs:{title:t.$t("m."+t.upsertTagTitle),width:"350px",visible:t.addTagDialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(i){t.addTagDialogVisible=i}}},[i("el-form",[i("el-form-item",{attrs:{label:t.$t("m.Tag_Name"),required:""}},[i("el-input",{attrs:{size:"small"},model:{value:t.tag.name,callback:function(i){t.$set(t.tag,"name",i)},expression:"tag.name"}})],1),i("el-form-item",{attrs:{label:t.$t("m.Tag_Color"),required:""}},[i("el-color-picker",{model:{value:t.tag.color,callback:function(i){t.$set(t.tag,"color",i)},expression:"tag.color"}})],1),i("el-form-item",{attrs:{label:t.$t("m.Tag_Attribution"),required:""}},[i("el-select",{staticStyle:{width:"150px"},attrs:{size:"small",disabled:""},model:{value:t.tag.oj,callback:function(i){t.$set(t.tag,"oj",i)},expression:"tag.oj"}},[i("el-option",{attrs:{label:t.$t("m.My_OJ"),value:"LOCAL"}}),t._l(t.REMOTE_OJ,(function(t,a){return i("el-option",{key:a,attrs:{label:t.name,value:t.key}})}))],2)],1),i("el-form-item",{attrs:{label:t.$t("m.Tag_Classification"),required:""}},[i("el-select",{staticStyle:{width:"150px"},attrs:{size:"small"},model:{value:t.tag.tcid,callback:function(i){t.$set(t.tag,"tcid",i)},expression:"tag.tcid"}},[t._l(t.chooseTagClassificationList,(function(t,a){return i("el-option",{key:a,attrs:{label:t.name,value:t.id}})})),i("el-option",{attrs:{label:t.$t("m.Unclassified"),value:null}})],2)],1),i("el-form-item",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{type:"primary",loading:t.upsertTagLoading},on:{click:t.upsertTag}},[t._v(t._s(t.$t("m."+t.upsertTagBtn))+" ")])],1)],1)],1),i("el-dialog",{attrs:{title:t.$t("m."+t.upsertTagClassificationTitle),width:"350px",visible:t.addTagClassificationDialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(i){t.addTagClassificationDialogVisible=i}}},[i("el-form",[i("el-form-item",{attrs:{label:t.$t("m.Tag_Classification_Name"),required:""}},[i("el-input",{attrs:{size:"small"},model:{value:t.tagClassification.name,callback:function(i){t.$set(t.tagClassification,"name",i)},expression:"tagClassification.name"}})],1),i("el-form-item",{attrs:{label:t.$t("m.Tag_Classification_Attribution"),required:""}},[i("el-select",{staticStyle:{width:"150px"},attrs:{size:"small",disabled:!0},model:{value:t.tagClassification.oj,callback:function(i){t.$set(t.tagClassification,"oj",i)},expression:"tagClassification.oj"}},[i("el-option",{attrs:{label:t.$t("m.My_OJ"),value:"LOCAL"}}),t._l(t.REMOTE_OJ,(function(t,a){return i("el-option",{key:a,attrs:{label:t.name,value:t.key}})}))],2)],1),i("el-form-item",{attrs:{label:t.$t("m.Tag_Classification_Rank")}},[i("el-input-number",{attrs:{min:0,max:2147483647},model:{value:t.tagClassification.rank,callback:function(i){t.$set(t.tagClassification,"rank",i)},expression:"tagClassification.rank"}})],1),i("el-form-item",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{type:"primary",loading:t.upsertTagClassificationLoading},on:{click:t.upsertTagClassification}},[t._v(t._s(t.$t("m."+t.upsertTagBtn))+" ")])],1)],1)],1)],1)},e=[],l=(a("b2f4"),a("24b8"),a("7aa9")),n=a("3228"),o=a("9a36"),c={data(){return{tagOj:"LOCAL",REMOTE_OJ:{},getTagListLoading:!1,tagsAndClassificationList:[],tagClassificationList:[],chooseTagClassificationList:[],addTagDialogVisible:!1,upsertTagTitle:"Add_Tag",upsertTagBtn:"To_Add",upsertTagLoading:!1,tag:{id:null,name:null,color:null,oj:"LOCAL",tcid:null},tagClassification:{id:null,name:null,rank:0,oj:"LOCAL"},addTagClassificationDialogVisible:!1,upsertTagClassificationTitle:"Add_Tag_Classification",upsertTagClassificationLoading:!1,activeTagClassificationIdList:[-1]}},mounted(){this.REMOTE_OJ=Object.assign({},o["i"]),this.init()},methods:{init(){this.getTagClassification(),this.getProblemTagsAndClassification()},getProblemTagsAndClassification(){this.getTagListLoading=!0,n["a"].getProblemTagsAndClassification(this.tagOj).then(t=>{this.tagsAndClassificationList=t.data.data,this.getTagListLoading=!1},t=>{this.getTagListLoading=!1})},deleteTag(t){this.$confirm(this.$i18n.t("m.Delete_Tag_Tips"),"Tips",{type:"warning"}).then(()=>{n["a"].admin_deleteTag(t.id).then(t=>{l["a"].success(this.$i18n.t("m.Delete_successfully")),this.getProblemTagsAndClassification()}).catch(()=>{})},()=>{})},openTagDialog(t,i,a=null){"add"==t?(this.upsertTagTitle="Add_Tag",this.upsertTagBtn="To_Add",this.tag={id:null,name:null,color:null,oj:this.tagOj,tcid:null==a?null:a.id}):(this.upsertTagTitle="Update_Tag",this.upsertTagBtn="To_Update",this.tag=Object.assign({},i)),this.addTagDialogVisible=!0},upsertTag(){this.tag.id?(this.upsertTagLoading=!0,n["a"].admin_updateTag(this.tag).then(t=>{this.upsertTagLoading=!1,l["a"].success(this.$i18n.t("m.Update_Successfully")),this.addTagDialogVisible=!1,this.getProblemTagsAndClassification()},t=>{this.upsertTagLoading=!1})):(this.upsertTagLoading=!0,n["a"].admin_addTag(this.tag).then(t=>{this.upsertTagLoading=!1,l["a"].success(this.$i18n.t("m.Add_Successfully")),this.addTagDialogVisible=!1,this.getProblemTagsAndClassification()},t=>{this.upsertTagLoading=!1}))},getTagClassification(){n["a"].admin_getTagClassification(this.tagOj).then(t=>{this.tagClassificationList=t.data.data,this.chooseTagClassificationList=this.tagClassificationList.filter(t=>t.oj==this.tag.oj)})},upsertTagClassification(){this.tagClassification.id?(this.upsertTagClassificationLoading=!0,n["a"].admin_updateTagClassification(this.tagClassification).then(t=>{this.upsertTagClassificationLoading=!1,l["a"].success(this.$i18n.t("m.Update_Successfully")),this.addTagClassificationDialogVisible=!1,this.getProblemTagsAndClassification()},t=>{this.upsertTagClassificationLoading=!1})):(this.upsertTagClassificationLoading=!0,n["a"].admin_addTagClassification(this.tagClassification).then(t=>{this.upsertTagClassificationLoading=!1,l["a"].success(this.$i18n.t("m.Add_Successfully")),this.tagsAndClassificationList.unshift({classification:t.data.data,tagList:[]}),this.chooseTagClassificationList.push(t.data.data),this.addTagClassificationDialogVisible=!1},t=>{this.upsertTagClassificationLoading=!1}))},deleteTagClassification(t){this.$confirm(this.$i18n.t("m.Delete_Tag_Classification_Tips"),"Tips",{type:"warning"}).then(()=>{n["a"].admin_deleteTagClassification(t.id).then(t=>{l["a"].success(this.$i18n.t("m.Delete_successfully")),this.getProblemTagsAndClassification()}).catch(()=>{})},()=>{})},openTagClassificationDialog(t,i){"add"==t?(this.upsertTagClassificationTitle="Add_Tag_Classification",this.upsertTagBtn="To_Add",this.tagClassification={id:null,name:null,rank:0,oj:this.tagOj}):(this.upsertTagClassificationTitle="Update_Tag_Classification",this.upsertTagBtn="To_Update",this.tagClassification=Object.assign({},i)),this.addTagClassificationDialogVisible=!0}},watch:{"tag.oj"(t){this.chooseTagClassificationList=this.tagClassificationList.filter(i=>i.oj==t),this.tag.tcid=null}}},g=c,r=(a("f4f8"),a("0b56")),d=Object(r["a"])(g,s,e,!1,null,"17ca8608",null);i["default"]=d.exports},cf3b:function(t,i,a){"use strict";var s=a("d09d"),e=TypeError;t.exports=function(t,i){if(!delete t[i])throw e("Cannot delete property "+s(i)+" of "+s(t))}},f4f8:function(t,i,a){"use strict";a("1801")}}]);