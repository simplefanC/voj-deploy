(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7dccadf1"],{"07d5":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",[e("el-card",[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticClass:"panel-title home-title"},[t._v(t._s(t.$t("m.Training_List")))]),e("div",{staticClass:"filter-row"},[e("span",[e("vxe-input",{attrs:{placeholder:t.$t("m.Enter_keyword"),size:"medium",type:"search"},on:{"search-click":t.filterByKeyword},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterByKeyword.apply(null,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),e("span",[e("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:t.goCreateTraining}},[t._v(t._s(t.$t("m.Create"))+" ")])],1)])]),e("vxe-table",{ref:"xTable",attrs:{data:t.trainingList,loading:t.loading,align:"center","auto-resize":"",stripe:""}},[e("vxe-table-column",{attrs:{field:"id",title:"ID",width:"80"}}),e("vxe-table-column",{attrs:{title:t.$t("m.Order_Number"),field:"rank",width:"80"}}),e("vxe-table-column",{attrs:{title:t.$t("m.Title"),field:"title","min-width":"150","show-overflow":""}}),e("vxe-table-column",{attrs:{title:t.$t("m.Auth"),width:"100"},scopedSlots:t._u([{key:"default",fn:function({row:i}){return[e("el-tag",{attrs:{type:t.TRAINING_TYPE[i.auth]["color"],effect:"dark"}},[t._v(" "+t._s(i.auth)+" ")])]}}])}),e("vxe-table-column",{attrs:{title:t.$t("m.Visible"),"min-width":"80"},scopedSlots:t._u([{key:"default",fn:function({row:i}){return[e("el-switch",{attrs:{disabled:!t.isSuperAdmin&&t.userInfo.username!=i.author},on:{change:function(e){return t.changeTrainingStatus(i.id,i.status,i.author)}},model:{value:i.status,callback:function(e){t.$set(i,"status",e)},expression:"row.status"}})]}}])}),e("vxe-table-column",{attrs:{title:t.$t("m.Info"),"min-width":"210"},scopedSlots:t._u([{key:"default",fn:function({row:i}){return[e("p",[t._v("Created Time: "+t._s(t._f("localtime")(i.gmtCreate)))]),e("p",[t._v("Update Time: "+t._s(t._f("localtime")(i.gmtModified)))]),e("p",[t._v("Creator: "+t._s(i.author))])]}}])}),e("vxe-table-column",{attrs:{title:t.$t("m.Option"),"min-width":"150"},scopedSlots:t._u([{key:"default",fn:function({row:i}){return[t.isSuperAdmin||t.userInfo.username==i.author?[e("div",{staticStyle:{"margin-bottom":"10px"}},[e("el-tooltip",{attrs:{content:t.$t("m.Edit"),effect:"dark",placement:"top"}},[e("el-button",{attrs:{icon:"el-icon-edit",size:"mini",type:"primary"},nativeOn:{click:function(e){return t.goEdit(i.id)}}})],1),e("el-tooltip",{attrs:{content:t.$t("m.View_Training_Problem_List"),effect:"dark",placement:"top"}},[e("el-button",{attrs:{icon:"el-icon-tickets",size:"mini",type:"success"},nativeOn:{click:function(e){return t.goTrainingProblemList(i.id)}}})],1)],1)]:t._e(),t.isSuperAdmin?e("el-tooltip",{attrs:{content:t.$t("m.Delete"),effect:"dark",placement:"top"}},[e("el-button",{attrs:{icon:"el-icon-delete",size:"mini",type:"danger"},nativeOn:{click:function(e){return t.deleteTraining(i.id)}}})],1):t._e()]}}])})],1),e("div",{staticClass:"panel-options"},[e("el-pagination",{staticClass:"page",attrs:{"page-size":t.pageSize,total:t.total,layout:"prev, pager, next"},on:{"current-change":t.currentChange}})],1)],1)],1)},a=[],r=(i("24b8"),i("3228")),s=i("9a36"),o=i("7736"),l=i("7aa9"),c={name:"TrainingList",data(){return{pageSize:10,total:0,trainingList:[],keyword:"",loading:!1,excludeAdmin:!0,currentPage:1,currentId:1,downloadDialogVisible:!1,TRAINING_TYPE:{}}},mounted(){this.getTrainingList(this.currentPage),this.TRAINING_TYPE=Object.assign({},s["l"])},watch:{$route(){let t="true"==this.$route.query.refresh;t&&this.getTrainingList(1)}},computed:{...Object(o["c"])(["isSuperAdmin","userInfo"])},methods:{currentChange(t){this.currentPage=t,this.getTrainingList(t)},getTrainingList(t){this.loading=!0,r["a"].admin_getTrainingList(t,this.pageSize,this.keyword).then(t=>{this.loading=!1,this.total=t.data.data.total,this.trainingList=t.data.data.records},t=>{this.loading=!1})},goEdit(t){this.$router.push({name:"admin-edit-training",params:{trainingId:t}})},goTrainingProblemList(t){this.$router.push({name:"admin-training-problem-list",params:{trainingId:t}})},deleteTraining(t){this.$confirm(this.$i18n.t("m.Delete_Training_Tips"),"Tips",{confirmButtonText:this.$i18n.t("m.OK"),cancelButtonText:this.$i18n.t("m.Cancel"),type:"warning"}).then(()=>{r["a"].admin_deleteTraining(t).then(t=>{l["a"].success(this.$i18n.t("m.Delete_successfully")),this.currentChange(1)})})},changeTrainingStatus(t,e,i){r["a"].admin_changeTrainingStatus(t,e,i).then(t=>{l["a"].success(this.$i18n.t("m.Update_Successfully"))})},filterByKeyword(){this.currentChange(1)},goCreateTraining(){this.$router.push({name:"admin-create-training"})}}},u=c,d=(i("bb9d"),i("0b56")),m=Object(d["a"])(u,n,a,!1,null,"a8e1ce1e",null);e["default"]=m.exports},"424a":function(t,e,i){},bb9d:function(t,e,i){"use strict";i("424a")}}]);