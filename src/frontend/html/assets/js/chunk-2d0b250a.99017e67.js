(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b250a"],{"241c":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{staticClass:"panel-title home-title"},[e._v(e._s(e.$t("m.Website_Config")))])]),t("el-form",{ref:"form",attrs:{model:e.websiteConfig,"label-position":"left","label-width":"110px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{md:8,xs:24}},[t("el-form-item",{attrs:{label:e.$t("m.Base_Url"),required:""}},[t("el-input",{attrs:{placeholder:e.$t("m.Base_Url")},model:{value:e.websiteConfig.baseUrl,callback:function(t){e.$set(e.websiteConfig,"baseUrl",t)},expression:"websiteConfig.baseUrl"}})],1)],1),t("el-col",{attrs:{md:8,xs:24}},[t("el-form-item",{attrs:{label:e.$t("m.Web_Name"),required:""}},[t("el-input",{attrs:{placeholder:e.$t("m.Web_Name")},model:{value:e.websiteConfig.name,callback:function(t){e.$set(e.websiteConfig,"name",t)},expression:"websiteConfig.name"}})],1)],1),t("el-col",{attrs:{md:8,xs:24}},[t("el-form-item",{attrs:{label:e.$t("m.Short_Name"),required:""}},[t("el-input",{attrs:{placeholder:e.$t("m.Short_Name")},model:{value:e.websiteConfig.shortName,callback:function(t){e.$set(e.websiteConfig,"shortName",t)},expression:"websiteConfig.shortName"}})],1)],1),t("el-col",{attrs:{md:8,xs:24}},[t("el-form-item",{attrs:{label:e.$t("m.Record_Name"),required:""}},[t("el-input",{attrs:{placeholder:e.$t("m.Record_Name")},model:{value:e.websiteConfig.recordName,callback:function(t){e.$set(e.websiteConfig,"recordName",t)},expression:"websiteConfig.recordName"}})],1)],1),t("el-col",{attrs:{md:8,xs:24}},[t("el-form-item",{attrs:{label:e.$t("m.Record_Url"),required:""}},[t("el-input",{attrs:{placeholder:e.$t("m.Record_Url")},model:{value:e.websiteConfig.recordUrl,callback:function(t){e.$set(e.websiteConfig,"recordUrl",t)},expression:"websiteConfig.recordUrl"}})],1)],1)],1)],1),t("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.saveWebsiteConfig.apply(null,arguments)}}},[e._v(e._s(e.$t("m.Save"))+" ")])],1),t("el-card",{staticStyle:{"margin-top":"15px"}},[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",{staticClass:"panel-title home-title"},[e._v(e._s(e.$t("m.SMTP_Config")))])]),t("el-form",{attrs:{model:e.smtp,"label-position":"left","label-width":"80px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{md:12,xs:24}},[t("el-form-item",{attrs:{label:e.$t("m.Host"),"label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:e.$t("m.Host")},model:{value:e.smtp.emailHost,callback:function(t){e.$set(e.smtp,"emailHost",t)},expression:"smtp.emailHost"}})],1)],1),t("el-col",{attrs:{md:12,xs:24}},[t("el-form-item",{attrs:{label:e.$t("m.Port"),"label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:e.$t("m.Port"),type:"number"},model:{value:e.smtp.emailPort,callback:function(t){e.$set(e.smtp,"emailPort",t)},expression:"smtp.emailPort"}})],1)],1),t("el-col",{attrs:{md:12,xs:24}},[t("el-form-item",{attrs:{label:e.$t("m.Email"),"label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:e.$t("m.Email")},model:{value:e.smtp.emailUsername,callback:function(t){e.$set(e.smtp,"emailUsername",t)},expression:"smtp.emailUsername"}})],1)],1),t("el-col",{attrs:{md:12,xs:24}},[t("el-form-item",{attrs:{label:e.$t("m.Password"),"label-width":"80px",required:""}},[t("el-input",{attrs:{placeholder:e.$t("m.Password"),type:"password"},model:{value:e.smtp.emailPassword,callback:function(t){e.$set(e.smtp,"emailPassword",t)},expression:"smtp.emailPassword"}})],1)],1),t("el-col",{attrs:{md:24,xs:24}},[t("el-form-item",{attrs:{label:"SSL"}},[t("el-switch",{model:{value:e.smtp.emailSsl,callback:function(t){e.$set(e.smtp,"emailSsl",t)},expression:"smtp.emailSsl"}})],1)],1)],1)],1),t("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.saveSMTPConfig.apply(null,arguments)}}},[e._v(e._s(e.$t("m.Save"))+" ")]),e.saved?t("el-button",{attrs:{loading:e.loadingBtnTest,size:"small",type:"warning"},nativeOn:{click:function(t){return e.testSMTPConfig.apply(null,arguments)}}},[e._v(e._s(e.$t("m.Send_Test_Email"))+" ")]):e._e()],1)],1)},l=[],i=a("3228"),o=a("7aa9"),r=a("90b9"),n={name:"SystemConfig",data(){return{init:!1,saved:!1,loadingBtnTest:!1,smtp:{emailHost:"smtp.example.com",emailPassword:"",emailPort:587,emailBGImg:"",emailUsername:"email@example.com",emailSsl:!0},websiteConfig:{},dialogImageUrl:"",dialogVisible:!1,disabled:!1,carouselImgList:[]}},mounted(){i["a"].admin_getSMTPConfig().then(e=>{e.data.data?this.smtp=e.data.data:(this.init=!0,o["a"].warning("No STMP Config"))}),i["a"].admin_getWebsiteConfig().then(e=>{this.websiteConfig=e.data.data}).catch(()=>{})},methods:{handleRemove(e,t){let a=e.id;null!=e.response&&(a=e.response.data.id),i["a"].admin_deleteHomeCarousel(a).then(e=>{o["a"].success(this.$i18n.t("m.Delete_successfully")),void 0!=t&&this.carouselImgList.splice(t,1)})},handlePictureCardPreview(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload(e){r["a"].downloadFile(e.url)},saveSMTPConfig(){i["a"].admin_editSMTPConfig(this.smtp).then(e=>{o["a"].success(this.$i18n.t("m.Update_Successfully")),this.saved=!0},()=>{this.saved=!1})},testSMTPConfig(){this.$prompt(this.$i18n.t("m.Please_input_your_email"),"",{inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:this.$i18n.t("m.Email_Check_Format")}).then(({value:e})=>{this.loadingBtnTest=!0,i["a"].admin_testSMTPConfig(e).then(e=>{o["a"].success(this.$i18n.t("m.Post_successfully")),this.loadingBtnTest=!1},()=>{this.loadingBtnTest=!1})}).catch(()=>{})},saveWebsiteConfig(){i["a"].admin_editWebsiteConfig(this.websiteConfig).then(e=>{o["a"].success(this.$i18n.t("m.Update_Successfully"))}).catch(()=>{})},saveDataBaseConfig(){i["a"].admin_editDataBaseConfig(this.databaseConfig).then(e=>{o["a"].success(this.$i18n.t("m.Update_Successfully"))}).catch(()=>{})}}},m=n,d=a("0b56"),c=Object(d["a"])(m,s,l,!1,null,null,null);t["default"]=c.exports}}]);